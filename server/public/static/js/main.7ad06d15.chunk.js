(this["webpackJsonpproposal-dapp"]=this["webpackJsonpproposal-dapp"]||[]).push([[0],{102:function(e,t,n){e.exports={Wrapper:"ProposalsTable_Wrapper__J8UFT",ProposalsTable:"ProposalsTable_ProposalsTable__3uunA"}},105:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"getCurrentBlockTimestamp","outputs":[{"name":"timestamp","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"components":[{"name":"target","type":"address"},{"name":"callData","type":"bytes"}],"name":"calls","type":"tuple[]"}],"name":"aggregate","outputs":[{"name":"blockNumber","type":"uint256"},{"name":"returnData","type":"bytes[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getLastBlockHash","outputs":[{"name":"blockHash","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"addr","type":"address"}],"name":"getEthBalance","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getCurrentBlockDifficulty","outputs":[{"name":"difficulty","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getCurrentBlockGasLimit","outputs":[{"name":"gaslimit","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getCurrentBlockCoinbase","outputs":[{"name":"coinbase","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"blockNumber","type":"uint256"}],"name":"getBlockHash","outputs":[{"name":"blockHash","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"}]')},106:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_timelock","type":"address"},{"internalType":"address[]","name":"_accounts","type":"address[]"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"id","type":"uint256"}],"name":"Cancelled","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"id","type":"uint256"}],"name":"Executed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":false,"internalType":"address","name":"proposer","type":"address"}],"name":"ProposalInitialized","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":false,"internalType":"address","name":"signer","type":"address"}],"name":"Signed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"prev","type":"address"},{"indexed":false,"internalType":"address","name":"next","type":"address"}],"name":"SignerChanged","type":"event"},{"inputs":[],"name":"MAX_NUM_SIGNERS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MIN_NUM_SIGNERS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"TIME_FOR_SIGNING","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"}],"name":"addSigner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes","name":"data","type":"bytes"}],"name":"adminCall","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_proposalId","type":"uint256"}],"name":"cancel","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"targets","type":"address[]"},{"internalType":"uint256[]","name":"values","type":"uint256[]"},{"internalType":"string[]","name":"signatures","type":"string[]"},{"internalType":"bytes[]","name":"calldatas","type":"bytes[]"},{"internalType":"string","name":"description","type":"string"},{"internalType":"address","name":"callFrom","type":"address"}],"name":"createAndSign","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_proposalId","type":"uint256"},{"internalType":"bool","name":"_paidFromStorage","type":"bool"}],"name":"execute","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"_old","type":"address"},{"internalType":"address","name":"_new","type":"address"}],"name":"flipSignerAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_proposalId","type":"uint256"}],"name":"getActions","outputs":[{"internalType":"address[]","name":"targets","type":"address[]"},{"internalType":"uint256[]","name":"values","type":"uint256[]"},{"internalType":"string[]","name":"signatures","type":"string[]"},{"internalType":"bytes[]","name":"calldatas","type":"bytes[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_proposalId","type":"uint256"}],"name":"getStatus","outputs":[{"internalType":"enum Multisig.Status","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"proposalCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"proposals","outputs":[{"internalType":"uint256","name":"signs","type":"uint256"},{"internalType":"enum Multisig.Status","name":"status","type":"uint8"},{"internalType":"address","name":"proposer","type":"address"},{"internalType":"uint256","name":"eta","type":"uint256"},{"internalType":"address","name":"callFrom","type":"address"},{"internalType":"string","name":"description","type":"string"},{"internalType":"uint256","name":"initiatedAt","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"}],"name":"removeSigner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"requiredSigns","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_signs","type":"uint256"}],"name":"setRequiredSigns","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_proposalId","type":"uint256"}],"name":"sign","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"timelock","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSigners","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"votedBy","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"}]')},107:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Received","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"ReceivedFallback","type":"event"},{"stateMutability":"payable","type":"fallback"},{"inputs":[{"internalType":"address","name":"_target","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"execute","outputs":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"result","type":"bytes"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256[]","name":"","type":"uint256[]"},{"internalType":"uint256[]","name":"","type":"uint256[]"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"onERC1155BatchReceived","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"onERC1155Received","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"onERC721Received","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]')},108:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_safeStorage","type":"address"},{"internalType":"uint256","name":"_delay","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"hash","type":"bytes32"},{"indexed":true,"internalType":"address","name":"target","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"},{"indexed":false,"internalType":"string","name":"signature","type":"string"},{"indexed":false,"internalType":"bytes","name":"data","type":"bytes"},{"indexed":false,"internalType":"uint256","name":"eta","type":"uint256"}],"name":"CancelTransaction","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"hash","type":"bytes32"},{"indexed":true,"internalType":"address","name":"target","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"},{"indexed":false,"internalType":"string","name":"signature","type":"string"},{"indexed":false,"internalType":"bytes","name":"data","type":"bytes"},{"indexed":false,"internalType":"uint256","name":"eta","type":"uint256"}],"name":"ExecuteTransaction","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"newAdmin","type":"address"}],"name":"NewAdmin","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"newDelay","type":"uint256"}],"name":"NewDelay","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"newPendingAdmin","type":"address"}],"name":"NewPendingAdmin","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"hash","type":"bytes32"},{"indexed":true,"internalType":"address","name":"target","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"},{"indexed":false,"internalType":"string","name":"signature","type":"string"},{"indexed":false,"internalType":"bytes","name":"data","type":"bytes"},{"indexed":false,"internalType":"uint256","name":"eta","type":"uint256"}],"name":"QueueTransaction","type":"event"},{"stateMutability":"payable","type":"fallback"},{"inputs":[],"name":"MAXIMUM_DELAY","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MINIMUM_DELAY","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"callFrom","type":"address"},{"internalType":"bytes32","name":"hash","type":"bytes32"},{"internalType":"address","name":"target","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"string","name":"signature","type":"string"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"uint256","name":"eta","type":"uint256"}],"internalType":"struct Timelock.Transaction","name":"_tx","type":"tuple"}],"name":"cancelTransaction","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"delay","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"callFrom","type":"address"},{"internalType":"bytes32","name":"hash","type":"bytes32"},{"internalType":"address","name":"target","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"string","name":"signature","type":"string"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"uint256","name":"eta","type":"uint256"}],"internalType":"struct Timelock.Transaction","name":"_tx","type":"tuple"}],"name":"executeTransaction","outputs":[{"internalType":"bytes","name":"returnData","type":"bytes"}],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"callFrom","type":"address"},{"internalType":"bytes32","name":"hash","type":"bytes32"},{"internalType":"address","name":"target","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"string","name":"signature","type":"string"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"uint256","name":"eta","type":"uint256"}],"internalType":"struct Timelock.Transaction","name":"_tx","type":"tuple"}],"name":"queueTransaction","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"queuedTransactions","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"safeStorage","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_delay","type":"uint256"}],"name":"setDelay","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]')},131:function(e,t,n){e.exports={Header:"Header_Header__1CTzX"}},136:function(e,t,n){e.exports={Proposals:"Proposals_Proposals__1sSZ_"}},142:function(e,t,n){},143:function(e,t,n){},146:function(e,t){},209:function(e,t,n){"use strict";n.r(t);var a,s,r=n(6),i=n.n(r),c=n(125),u=n.n(c),o=(n(142),n(143),n(2)),l=n.n(o),p=n(24),d=n(37),y=n(105),b=n(106),m=(n(107),n(108),56),f={56:"0xe5a65aee2E66178432d3f71984761514856D8f6E",97:"0x64320DDB7A84E95E82B25A7727d3D514EBE397cE"},j={56:"0x535eef3bf36C74Eb9d235Ef4F1bb551C12F91222",97:"0x25A37D08341d90d2deAe5096dE029DE12727daA0"},h={56:"0xfF6FD90A470Aaa0c1B8A54681746b07AcdFedc9B",97:"0xE226fe842b0A986c86f18c9Fd1A751CAb28bc951"},v=n(28),O=n(127),g=n(99),T=n(129);!function(e){e.Injected="injected",e.WalletConnect="walletconnect",e.BSC="bsc"}(s||(s={}));var x,w=new O.a({supportedChainIds:[m]}),C=new T.BscConnector({supportedChainIds:[56,97]}),E=(a={},Object(v.a)(a,s.Injected,w),Object(v.a)(a,s.BSC,C),a),M=function(e){var t=new g.a(e,"number"===typeof e.chainId?e.chainId:"string"===typeof e.chainId?parseInt(e.chainId):"any");return t.pollingInterval=15e3,t},_=function(){var e=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=window.ethereum)){e.next=14;break}return e.prev=2,e.next=5,n.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x".concat(t.toString(16))}]});case 5:return e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",!1);case 12:e.next=16;break;case 14:return console.error("Can't setup the ETH network on metamask because window.ethereum is undefined"),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),N=n(21),k=n(9);!function(e){e.info="Info",e.error="Error",e.success="Success"}(x||(x={}));var A={text:"",cls:x.info,show:!1},S=function(e,t){switch(t.type){case"hide":return A;case"show":return t.payload;default:return e}},I=Object(r.createContext)({alert:A,hideAlert:function(){},showAlert:function(e){e.text,e.cls}});function D(e){var t=e.children,n=Object(r.useReducer)(S,A),a=Object(N.a)(n,2),s=a[0],i=a[1];return Object(k.jsx)(I.Provider,{value:{alert:s,hideAlert:function(){i({type:"hide"})},showAlert:function(e){var t=e.text,n=e.cls;i({type:"show",payload:{cls:n,text:t,show:!0}})}},children:t})}function P(){var e=Object(r.useContext)(I);return{alert:e.alert,showAlert:e.showAlert,hideAlert:e.hideAlert}}var F=function(){var e=Object(d.c)(),t=e.activate,n=e.deactivate,a=P().showAlert,i=window.localStorage.getItem("proposal_connector")||s.Injected;return{login:Object(r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,n=E[e];n?t(n,function(){var e=Object(p.a)(l.a.mark((function e(s){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(s.message||s),!(s instanceof d.a)){e.next=6;break}return e.next=4,_(m);case 4:e.sent?(t(n),a({text:"Change Network: Success",cls:x.success})):a({text:s.message,cls:x.error});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):console.info("Connector is Failed")}),[t,i,a]),logout:Object(r.useCallback)((function(){n()}),[n])}},B=n(131),L=n.n(B);var U=function(e){return e.length<=12?e:"".concat(e.slice(0,6),"...").concat(e.slice(-6))};var R=function(){var e=Object(d.c)().account,t=F().login,n=Object(r.useCallback)((function(){e||t()}),[e,t]);return Object(k.jsx)("div",{className:["container",L.a.Header].join(" "),children:Object(k.jsx)("button",{onClick:n,className:"button",children:e?U(e):"Connect"})})},q=n(29),W=n(17),X=n(49),H=n.n(X),J=n(64),Q=n(53),V=n.n(Q),Z=n(132),G=n(34),Y=n(103),z=n(133),K=n.n(z),$={56:["https://data-seed-prebsc-1-s1.binance.org:8545","https://data-seed-prebsc-2-s1.binance.org:8545","https://data-seed-prebsc-1-s2.binance.org:8545","https://data-seed-prebsc-2-s2.binance.org:8545","https://data-seed-prebsc-1-s3.binance.org:8545","https://data-seed-prebsc-2-s3.binance.org:8545"],97:["https://data-seed-prebsc-1-s1.binance.org:8545","https://data-seed-prebsc-2-s1.binance.org:8545","https://data-seed-prebsc-1-s2.binance.org:8545","https://data-seed-prebsc-2-s2.binance.org:8545","https://data-seed-prebsc-1-s3.binance.org:8545","https://data-seed-prebsc-2-s3.binance.org:8545"]},ee=function(){var e=K()(0,$[56].length-1);return $[56][e]}(),te=new Y.a.providers.JsonRpcProvider(ee),ne=function(e,t,n){var a=null!==n&&void 0!==n?n:te;return new Y.a.Contract(t,e,a)},ae=function(){var e=Object(d.c)().library,t=Object(r.useRef)(e),n=Object(r.useState)(e||te),a=Object(N.a)(n,2),s=a[0],i=a[1];return Object(r.useEffect)((function(){e!==t.current&&(i(e||te),t.current=e)}),[e]),s};var se,re,ie=function(){var e=Object(r.useState)(0),t=Object(N.a)(e,2),n=t[0],a=t[1],s=Object(d.c)().library;return Object(r.useEffect)((function(){if(s){var e=setInterval((function(){s.getBlockNumber().then((function(e){a(e)})).catch((function(e){console.info(e.message||e)}))}),15e3);return function(){clearInterval(e)}}}),[s,a]),n};!function(e){e[e.EMPTY=0]="EMPTY",e[e.INITIALIZED=1]="INITIALIZED",e[e.CANCELLED=2]="CANCELLED",e[e.QUEUED=3]="QUEUED",e[e.EXECUTED=4]="EXECUTED"}(re||(re={}));var ce=(se={},Object(v.a)(se,re.EMPTY,"Empty"),Object(v.a)(se,re.INITIALIZED,"INITIALIZED"),Object(v.a)(se,re.CANCELLED,"CANCELLED"),Object(v.a)(se,re.QUEUED,"QUEUED"),Object(v.a)(se,re.EXECUTED,"EXECUTED"),se);function ue(){var e=Object(d.c)().account,t=Object(r.useState)({cancel:!1,create:!1,sign:!1,execute:!1}),n=Object(N.a)(t,2),a=n[0],s=n[1],i=function(){var e=ae();return Object(r.useMemo)((function(){return ne(b,j[56],e.getSigner())}),[e])}(),c=function(){var e=ae();return Object(r.useMemo)((function(){return ne(y,h[56],e.getSigner())}),[e])}(),u=ie(),o=P().showAlert,m=Object(r.useState)(0),f=Object(N.a)(m,2),v=f[0],O=f[1],g=Object(r.useState)([]),T=Object(N.a)(g,2),w=T[0],C=T[1],E=Object(r.useCallback)((function(){i&&i.proposalCount().then((function(e){O(e.toNumber())})).catch((function(e){console.log(e.message||e)}))}),[i]);Object(r.useEffect)((function(){E()}),[E,u]);var M=Object(r.useMemo)((function(){if(v>0&&i){for(var e=v>10?v-10:0,t=[],n=v;n>e;n--)t.push(n);return t}return[]}),[i,v]),_=Object(r.useMemo)((function(){if(M.length>0&&i){var e,t=[],n=Object(G.a)(M);try{for(n.s();!(e=n.n()).done;){var a=e.value,s=i.interface.getFunction("proposals"),r=i.interface.encodeFunctionData(s,[a]);t.push([j[56],r])}}catch(c){n.e(c)}finally{n.f()}return t}return[]}),[i,M]),k=Object(r.useMemo)((function(){if(M.length>0&&i){var e,t=[],n=Object(G.a)(M);try{for(n.s();!(e=n.n()).done;){var a=e.value,s=i.interface.getFunction("getStatus"),r=i.interface.encodeFunctionData(s,[a]);t.push([j[56],r])}}catch(c){n.e(c)}finally{n.f()}return t}return[]}),[i,M]);Object(r.useEffect)((function(){if(c&&_.length>0){var e=i.interface.getFunction("proposals"),t=i.interface.getFunction("getStatus");c.aggregate(V.a.concat(_,k)).then((function(n){var a=Object(N.a)(n,2),s=(a[0],a[1]),r=s.slice(s.length/2).map((function(e){return i.interface.decodeFunctionResult(t,e)})),c=s.slice(0,s.length/2).map((function(t,n){var a;return Object(W.a)(Object(W.a)({id:M[n]},i.interface.decodeFunctionResult(e,t)),{},{status:(null===(a=r[n])||void 0===a?void 0:a[0])||0})}));C(c)})).catch((function(e){console.log("error",e.message||e)}))}}),[k,c,i.interface,M,_,u]);var A=Object(r.useCallback)((function(e){i&&(s((function(e){return Object(W.a)(Object(W.a)({},e),{},{create:!0})})),setTimeout((function(){s((function(e){return Object(W.a)(Object(W.a)({},e),{},{create:!1})}))}),2e3))}),[e,i,o]),S=Object(r.useCallback)((function(t){i&&(s((function(e){return Object(W.a)(Object(W.a)({},e),{},{sign:!0})})),i.sign(t,{from:e}).then(function(){var e=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.wait();case 2:n=e.sent,o({text:"Sign ".concat(1===n.status?"success":"failed"," ").concat(U(t.hash)),cls:1===n.status?x.success:x.error});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})).finally((function(){return s((function(e){return Object(W.a)(Object(W.a)({},e),{},{sign:!1})}))})))}),[e,i,o]),I=Object(r.useCallback)((function(t){i&&(s((function(e){return Object(W.a)(Object(W.a)({},e),{},{execute:!0})})),i.execute(t,!0,{from:e}).then(function(){var e=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.wait();case 2:n=e.sent,o({text:"Execute ".concat(1===n.status?"success":"failed"," ").concat(U(t.hash)),cls:1===n.status?x.success:x.error});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})).finally((function(){return s((function(e){return Object(W.a)(Object(W.a)({},e),{},{execute:!1})}))})))}),[e,i,o]),D=Object(r.useCallback)((function(t){i&&(s((function(e){return Object(W.a)(Object(W.a)({},e),{},{cancel:!0})})),i.cancel(t,{from:e}).then(function(){var e=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.wait();case 2:n=e.sent,o({text:"Cancel ".concat(1===n.status?"success":"failed"," ").concat(U(t.hash)),cls:1===n.status?x.success:x.error});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})).finally((function(){return s((function(e){return Object(W.a)(Object(W.a)({},e),{},{cancel:!1})}))})))}),[e,i,o]);return Object(r.useMemo)((function(){return{createAndSign:A,pending:a,multisigContract:i,proposals:w,onSign:S,onCancel:D,onExecute:I}}),[A,i,D,I,S,a,w])}var oe=function(){var e=Object(r.useState)([0]),t=Object(N.a)(e,2),n=t[0],a=t[1],s=Object(d.c)().account,i=ue(),c=i.createAndSign,u=i.pending,o=i.multisigContract,l=Object(J.a)({mode:"onChange",reValidateMode:"onChange"}),p=l.register,y=l.formState,b=y.isValid,m=y.errors,j=l.handleSubmit,h=l.reset,O=l.getValues,g=l.control,T=l.setValue,x=Object(r.useCallback)((function(e){var t={},n="";for(var a in e)if(e.hasOwnProperty(a)&&/-/.test(a)){var s=a.split("-"),r=Object(N.a)(s,2),i=r[0],u=r[1];i&&u&&("description"===i?n=e[a]:t[u]=Object(W.a)(Object(W.a)({},t[u]),{},Object(v.a)({},i,e[a])))}if(Object.values(t).length>0){for(var o={targets:[],values:[],signatures:[],calldatas:[],description:n,callFrom:f[56]},l=0,p=Object.values(t);l<p.length;l++){var d=p[l],y=d.target,b=d.value,m=d.callDatas;o.targets.push(y),o.values.push(Object(Z.toWei)(b)),o.calldatas.push(m)}c(o)}}),[c]),w=Object(r.useCallback)((function(){var e=V.a.last(n);a([].concat(Object(q.a)(n),[void 0!==e?e+1:0]))}),[n]),C=Object(r.useCallback)((function(e){a(V.a.remove(n,(function(t){return t!==e})));var t=O(),s={};for(var r in t)if(t.hasOwnProperty(r)&&/-/.test(r)){var i=r.split("-"),c=parseInt(i[1]);Object.keys(t).length>5&&"description"===i[0]&&c===e&&(s["description-".concat(c+1)]=t[r]),c!==e&&(s[r]=t[r])}h(s)}),[n,O,h]),E=Object(r.useCallback)((function(e,t){T(e,t)}),[T]);return Object(k.jsx)("div",{className:["container",H.a.CreateProposal].join(" "),children:Object(k.jsxs)("div",{className:"card",children:[Object(k.jsx)("h2",{className:"card-title",children:"Create proposal"}),Object(k.jsxs)("h3",{className:"card-subtitle",children:["Proposal details ",Object(k.jsx)("button",{onClick:function(){h({}),a([0])},type:"button",className:"button",children:"Clear all"})]}),Object(k.jsxs)("form",{onSubmit:j(x),children:[n.map((function(e,t){var n=0===t;return Object(k.jsx)(je,{setValue:E,control:g,showDescription:n,onRemove:C,id:e,register:p,errors:m},"ProposalDetails-".concat(e))})),Object(k.jsxs)("div",{className:H.a.ButtonBlock,children:[Object(k.jsxs)("div",{className:H.a.Left,children:[Object(k.jsx)("p",{className:H.a.ButtonDesc,children:"Add one more action to this proposal"}),Object(k.jsx)("button",{onClick:w,type:"button",className:"button",children:"+"})]}),Object(k.jsx)("button",{className:"button",disabled:!b||!s||u.create||!o,type:"submit",children:u.create?"Sending":"Send"})]})]})]})})},le=n(66),pe="4FWUBS33WY23N5PKMD64AC75XGS88R27XN",de={56:"https://api.bscscan.com",97:"https://api-testnet.bscscan.com"},ye=n(135),be=n.n(ye);function me(e){return fe.apply(this,arguments)}function fe(){return(fe=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.a.get("".concat(de[56],"/api?module=contract&action=getabi&address=").concat(t,"&apikey=").concat(pe));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var je=function(e){var t,n,a,s,i,c,u=e.register,o=e.errors,d=e.id,y=e.onRemove,b=e.showDescription,m=void 0!==b&&b,f=e.control,j=e.setValue,h=Object(r.useState)(null),v=Object(N.a)(h,2),O=v[0],g=v[1],T=Object(r.useMemo)((function(){return!!O&&"payable"===O.stateMutability}),[O]),w=Object(J.b)({control:f,name:"target-".concat(d)}),C=Object(J.b)({control:f,name:"inputs-".concat(d)}),E=Object(J.b)({control:f,name:"method-".concat(d)}),M=function(e){var t=Object(r.useState)([]),n=Object(N.a)(t,2),a=n[0],s=n[1],i=Object(r.useState)(null),c=Object(N.a)(i,2),u=c[0],o=c[1],d=P().showAlert,y=Object(r.useCallback)(function(){var e=Object(p.a)(l.a.mark((function e(t){var n,a,r,i,c,u,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me(t).then((function(e){return[e,void 0]})).catch((function(e){return Promise.resolve([void 0,e])}));case 3:if(n=e.sent,a=Object(N.a)(n,2),r=a[0],i=a[1],!(null===r||void 0===r?void 0:r.data)){e.next=18;break}if(c=null===r||void 0===r?void 0:r.data,!(u=c.result)){e.next=16;break}if("Contract source code not verified"!==u){e.next=13;break}return d({text:"Contract source code not verified",cls:x.error}),e.abrupt("return");case 13:o(new le.Interface(u)),p=JSON.parse(u).filter((function(e){return"function"===e.type&&("nonpayable"===e.stateMutability||"payable"===e.stateMutability)})),s(V.a.uniqBy(p,(function(e){return e.name})));case 16:e.next=19;break;case 18:console.log("addErr",i);case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log("getABI",e.t0.message||e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}(),[d]);return Object(r.useEffect)((function(){Object(le.isAddress)(e)?y(e):s([])}),[e,y]),{contractFunc:a,contractInterface:u}}(w),_=M.contractFunc,A=M.contractInterface,S=Object(r.useCallback)((function(){if(A&&E&&O&&(0===(null===O||void 0===O?void 0:O.inputs.length)||C)){var e=A.getFunction(E),t=(null===C||void 0===C?void 0:C.split(",").map((function(e){return e.trim()})).filter((function(e){return Boolean(e)})))||[];if(O.inputs.length===t.length){var n=A.encodeFunctionData(e,t);j("callDatas-".concat(d),n)}}else j("callDatas-".concat(d),"")}),[A,O,d,C,E,j]);Object(r.useEffect)((function(){S()}),[S]),Object(r.useEffect)((function(){var e=V.a.find(_,(function(e){return e.name===E}));e&&A&&g(e)}),[_,A,d,E,j]);var I=Object(r.useCallback)((function(e){var t=e.split(",").filter((function(e){return Boolean(e)}));if(!O)return"";var n,a=!1,s=Object(G.a)(t);try{for(s.s();!(n=s.n()).done;){var r=n.value;if(!Boolean(r.trim())){a=!0;break}}}catch(o){s.e(o)}finally{s.f()}var i=O.inputs;if(i.length!==t.length||i.length>0&&a)return"Count arguments error";var c=!0;for(var u in t){if("address"===i[u].type){if(!Object(le.isAddress)(t[u])){c=!1;break}}else if(""===t[u].trim()){c=!1;break}}return c||"Error inputs"}),[O]),D=Object(r.useCallback)((function(){return O?O.inputs.map((function(e){return[e.name,e.type].join(": ")})).join("; "):null}),[O]);return Object(k.jsxs)("div",{className:H.a.ProposalDetails,children:[Object(k.jsxs)("div",{className:H.a.ProposalColumn,children:[Object(k.jsx)("label",{className:"label",htmlFor:"target-".concat(d),children:"Target"}),Object(k.jsx)("input",Object(W.a)({className:["input",o["target-".concat(d)]?"error":""].join(" "),type:"text"},u("target-".concat(d),{validate:{isAddress:function(e){return Object(le.isAddress)(e)||"Is not address"}}}))),o["target-".concat(d)]&&Object(k.jsx)("p",{className:"error-message",children:null===(t=o["target-".concat(d)])||void 0===t?void 0:t.message}),T&&Object(k.jsx)("label",{className:"label",htmlFor:"value-".concat(d),children:"Value"}),Object(k.jsx)("input",Object(W.a)({type:T?"number":"hidden",className:T?["input",o["value-".concat(d)]?"error":""].join(" "):""},u("value-".concat(d),{value:"0",validate:function(e){return e>=0||"More then Zero"}}))),T&&o["value-".concat(d)]&&Object(k.jsx)("p",{className:"error-message",children:null===(n=o["value-".concat(d)])||void 0===n?void 0:n.message}),Object(k.jsx)("input",Object(W.a)({type:"hidden"},u("callDatas-".concat(d),{value:""}))),Object(k.jsx)("label",{className:"label",htmlFor:"method-".concat(d),children:"Method"}),Object(k.jsxs)("select",Object(W.a)(Object(W.a)({className:["input",o["method-".concat(d)]?"error":""].join(" ")},u("method-".concat(d),{required:!0,minLength:{value:3,message:"Don`t choose method"}})),{},{id:"method-".concat(d),children:[Object(k.jsx)("option",{value:"",children:"Please select method"}),_&&_.map((function(e){return Object(k.jsx)("option",{value:e.name,children:e.name},"".concat(d,"-select-").concat(e.name))}))]})),o["method-".concat(d)]&&Object(k.jsx)("p",{className:"error-message",children:null===(a=o["method-".concat(d)])||void 0===a?void 0:a.message}),Object(k.jsxs)("label",{className:"label",htmlFor:"inputs-".concat(d),children:["Arguments ",O&&"[".concat(D(),"]")]}),Object(k.jsx)("input",Object(W.a)({disabled:0===(null===O||void 0===O||null===(s=O.inputs)||void 0===s?void 0:s.length),className:["input",o["inputs-".concat(d)]?"error":""].join(" "),placeholder:"arguments via ','",id:"inputs-".concat(d),type:"text"},u("inputs-".concat(d),{required:!1,validate:I}))),o["inputs-".concat(d)]&&Object(k.jsx)("p",{className:"error-message",children:null===(i=o["inputs-".concat(d)])||void 0===i?void 0:i.message})]}),m&&Object(k.jsxs)("div",{className:H.a.ProposalColumn,children:[Object(k.jsx)("label",{className:"label",htmlFor:"description-".concat(d),children:"Description"}),Object(k.jsx)("textarea",Object(W.a)(Object(W.a)({className:["input",o["description-".concat(d)]?"error":""].join(" ")},u("description-".concat(d),{required:!0,maxLength:{value:100,message:"Max 100 symbols"}})),{},{id:"description-".concat(d)})),o["description-".concat(d)]&&Object(k.jsx)("p",{className:"error-message",children:null===(c=o["description-".concat(d)])||void 0===c?void 0:c.message})]}),Object(k.jsx)("div",{className:H.a.ButtonBlock,children:Object(k.jsx)("button",{onClick:function(){return y(d)},type:"button",className:"button",children:"Remove"})})]})},he=n(136),ve=n.n(he),Oe=n(102),ge=n.n(Oe);var Te=function(){var e=ue(),t=e.proposals,n=e.onCancel,a=e.pending,s=e.onSign,r=e.onExecute;return Object(k.jsx)("div",{className:ge.a.Wrapper,children:Object(k.jsxs)("table",{className:ge.a.ProposalsTable,children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"Proposal id"}),Object(k.jsx)("th",{children:"Status"}),Object(k.jsx)("th",{children:"Code"}),Object(k.jsx)("th",{children:"Actions"})]})}),Object(k.jsx)("tbody",{children:t.map((function(e){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:e.id}),Object(k.jsx)("td",{children:ce[e.status]}),Object(k.jsx)("td",{children:e.description}),Object(k.jsxs)("td",{children:[(e.status===re.INITIALIZED||e.status===re.QUEUED)&&Object(k.jsx)("button",{onClick:function(){return n(e.id)},disabled:a.cancel,className:"button",children:a.cancel?"\u2716 Canceling":"\u2716 Cancel"}),Object(k.jsx)("button",{onClick:function(){e.status===re.QUEUED?r(e.id):s(e.id)},disabled:e.status===re.CANCELLED||e.status===re.EXECUTED||a.sign||a.execute,className:"button",children:e.status===re.QUEUED?a.sign?"\u25b6 Executing":"\u25b6 Execute":a.sign?"\u270e Signing":"\u270e Sign"})]})]},"Proposal-".concat(e.id))}))})]})})};var xe=function(){return Object(k.jsx)("div",{className:["container",ve.a.Proposals].join(" "),children:Object(k.jsxs)("div",{className:"card",children:[Object(k.jsx)("h2",{className:"card-title",children:"Proposals"}),Object(k.jsx)(Te,{})]})})},we=n(78),Ce=n.n(we),Ee=function(){var e=P(),t=e.alert,n=e.hideAlert,a=[Ce.a.Alert,Ce.a[t.cls]];return Object(r.useEffect)((function(){if(t.show){var e=setTimeout((function(){n()}),5e3);return function(){clearTimeout(e)}}}),[t,n]),t.show?Object(k.jsx)("div",{className:Ce.a.Wrapper,children:Object(k.jsxs)("div",{className:a.join(" "),children:[Object(k.jsx)("div",{className:Ce.a.Text,children:t.text}),Object(k.jsx)("button",{onClick:n})]})}):null};var Me=function(){var e=F().login;return Object(r.useEffect)((function(){e()}),[]),Object(k.jsxs)("div",{className:"App",children:[Object(k.jsx)(Ee,{}),Object(k.jsx)(R,{}),Object(k.jsx)(oe,{}),Object(k.jsx)(xe,{})]})},_e=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,213)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),r(e),i(e)}))};var Ne=function(e){var t=e.children;return Object(k.jsx)(d.b,{getLibrary:M,children:Object(k.jsx)(D,{children:t})})};u.a.render(Object(k.jsx)(i.a.StrictMode,{children:Object(k.jsx)(Ne,{children:Object(k.jsx)(Me,{})})}),document.getElementById("root")),_e()},49:function(e,t,n){e.exports={CreateProposal:"CreateProposal_CreateProposal__26XU3",ProposalDetails:"CreateProposal_ProposalDetails__n-zuW",ProposalColumn:"CreateProposal_ProposalColumn__-6QdC",ButtonBlock:"CreateProposal_ButtonBlock__1chTq",Left:"CreateProposal_Left__2Z6sg",ButtonDesc:"CreateProposal_ButtonDesc__3oyfx"}},78:function(e,t,n){e.exports={Wrapper:"Alert_Wrapper__2Rb8C",showAlert:"Alert_showAlert__3wNYK",Alert:"Alert_Alert__2HTUm",Error:"Alert_Error__1oOCl",Info:"Alert_Info__1VqG2",Success:"Alert_Success__1LmTk",Text:"Alert_Text__1iUx7"}}},[[209,1,2]]]);
//# sourceMappingURL=main.7ad06d15.chunk.js.map